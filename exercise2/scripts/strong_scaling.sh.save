#!/bin/bash
# Strong Scaling: Run with a fixed problem size (4096x4096) and varying number of processes
problem_size="4096 4096 -2.0 -2.0 2.0 2.0 255"
output_dir="strong_scaling_results"
mkdir -p $output_dir

for np in 1 2 4 8 16 32; do
    echo "Running with $np processes"
    mpirun -np $np ./mandelbrot $problem_size > $output_dir/output_${np}.txt 2>&1
    mv mandelbrot.pgm $output_dir/mandelbrot_${np}.pgm
done
