import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.linear_model import LinearRegression
import io


data = """
Size,Avg Latency(us),Min Latency(us),Max Latency(us),Iterations,NP_total,ALGO,ALGO_NAME
4,0.31,0.12,0.31,30000,2,0,ignore
4,0.22,0.21,0.22,30000,4,0,ignore
4,0.36,0.36,0.36,30000,6,0,ignore
4,0.48,0.47,0.48,30000,8,0,ignore
4,0.42,0.42,0.44,30000,10,0,ignore
4,0.41,0.41,0.44,30000,12,0,ignore
4,0.45,0.44,0.45,30000,14,0,ignore
4,0.61,0.60,0.61,30000,16,0,ignore
4,0.52,0.52,0.52,30000,18,0,ignore
4,0.58,0.53,0.60,30000,20,0,ignore
4,0.52,0.51,0.52,30000,22,0,ignore
4,0.53,0.53,0.53,30000,24,0,ignore
4,0.50,0.49,0.54,30000,26,0,ignore
4,0.51,0.51,0.58,30000,28,0,ignore
4,0.51,0.51,0.67,30000,30,0,ignore
4,0.78,0.69,0.80,30000,32,0,ignore
4,0.74,0.67,0.74,30000,34,0,ignore
4,0.65,0.63,0.65,30000,36,0,ignore
4,0.65,0.60,0.65,30000,38,0,ignore
4,0.63,0.63,0.63,30000,40,0,ignore
4,0.59,0.59,0.61,30000,42,0,ignore
4,0.64,0.61,0.64,30000,44,0,ignore
4,0.65,0.61,0.65,30000,46,0,ignore
4,0.61,0.61,0.65,30000,48,0,ignore
4,0.64,0.59,0.64,30000,50,0,ignore
4,0.61,0.60,0.64,30000,52,0,ignore
4,0.63,0.59,0.65,30000,54,0,ignore
4,0.65,0.62,0.65,30000,56,0,ignore
4,0.60,0.60,0.60,30000,58,0,ignore
4,0.65,0.61,0.65,30000,60,0,ignore
4,0.62,0.62,0.68,30000,62,0,ignore
4,0.87,0.83,0.87,30000,64,0,ignore
4,0.79,0.74,0.79,30000,66,0,ignore
4,0.79,0.76,0.79,30000,68,0,ignore
4,0.82,0.76,0.82,30000,70,0,ignore
4,0.92,0.83,0.92,30000,72,0,ignore
4,0.91,0.80,0.91,30000,74,0,ignore
4,0.86,0.81,0.87,30000,76,0,ignore
4,0.84,0.82,0.84,30000,78,0,ignore
4,0.92,0.87,0.92,30000,80,0,ignore
4,0.99,0.84,0.99,30000,82,0,ignore
4,0.89,0.87,0.89,30000,84,0,ignore
4,0.94,0.83,0.94,30000,86,0,ignore
4,0.97,0.91,0.97,30000,88,0,ignore
4,0.97,0.85,0.97,30000,90,0,ignore
4,0.89,0.86,0.89,30000,92,0,ignore
4,0.88,0.86,0.88,30000,94,0,ignore
4,0.96,0.91,0.96,30000,96,0,ignore
4,0.97,0.93,1.01,30000,98,0,ignore
4,1.13,0.94,1.13,30000,100,0,ignore
4,1.12,0.90,1.12,30000,102,0,ignore
4,1.06,0.96,1.06,30000,104,0,ignore
4,1.00,0.94,1.02,30000,106,0,ignore
4,0.94,0.94,1.19,30000,108,0,ignore
4,0.95,0.95,1.06,30000,110,0,ignore
4,1.05,0.95,1.05,30000,112,0,ignore
4,1.08,0.97,1.13,30000,114,0,ignore
4,0.99,0.99,1.21,30000,116,0,ignore
4,0.97,0.97,1.03,30000,118,0,ignore
4,1.13,0.98,1.13,30000,120,0,ignore
4,1.02,1.01,1.16,30000,122,0,ignore
4,1.04,1.03,1.04,30000,124,0,ignore
4,1.17,0.95,1.26,30000,126,0,ignore
4,1.01,1.01,1.09,30000,128,0,ignore
4,0.81,0.81,1.03,30000,130,0,ignore
4,0.86,0.86,1.34,30000,132,0,ignore
4,0.85,0.84,0.98,30000,134,0,ignore
4,1.26,0.93,1.26,30000,136,0,ignore
4,0.97,0.87,0.99,30000,138,0,ignore
4,1.09,0.93,1.09,30000,140,0,ignore
4,1.01,0.93,1.01,30000,142,0,ignore
4,1.18,1.03,1.18,30000,144,0,ignore
4,1.32,1.05,1.32,30000,146,0,ignore
4,1.73,1.25,1.73,30000,148,0,ignore
4,1.61,1.23,1.61,30000,150,0,ignore
4,1.62,1.44,1.70,30000,152,0,ignore
4,1.67,1.41,1.67,30000,154,0,ignore
4,1.72,1.37,1.97,30000,156,0,ignore
4,1.64,1.39,1.64,30000,158,0,ignore
4,1.62,1.62,1.77,30000,160,0,ignore
4,2.12,2.12,2.19,30000,162,0,ignore
4,2.28,2.28,2.60,30000,164,0,ignore
4,2.28,2.15,2.28,30000,166,0,ignore
4,2.62,2.47,2.65,30000,168,0,ignore
4,2.23,2.23,2.39,30000,170,0,ignore
4,2.70,2.43,2.70,30000,172,0,ignore
4,2.23,2.12,2.66,30000,174,0,ignore
4,2.94,2.57,2.94,30000,176,0,ignore
4,2.63,2.32,2.63,30000,178,0,ignore
4,2.79,2.49,2.83,30000,180,0,ignore
4,2.58,2.19,2.58,30000,182,0,ignore
4,2.96,2.70,3.00,30000,184,0,ignore
4,2.80,2.30,2.80,30000,186,0,ignore
4,3.20,2.75,4.33,30000,188,0,ignore
4,2.77,2.44,2.77,30000,190,0,ignore
4,3.38,2.95,3.38,30000,192,0,ignore
4,2.82,2.54,2.82,30000,194,0,ignore
4,3.19,2.90,3.19,30000,196,0,ignore
4,2.74,2.37,2.74,30000,198,0,ignore
4,3.46,2.36,3.48,30000,200,0,ignore
4,2.96,2.45,2.96,30000,202,0,ignore
4,3.42,2.85,3.42,30000,204,0,ignore
4,2.99,2.39,2.99,30000,206,0,ignore
4,3.61,3.06,3.61,30000,208,0,ignore
4,3.06,2.48,3.06,30000,210,0,ignore
4,3.81,2.68,3.81,30000,212,0,ignore
4,2.75,2.27,2.75,30000,214,0,ignore
4,3.36,2.86,3.36,30000,216,0,ignore
4,2.91,2.33,2.91,30000,218,0,ignore
4,2.89,2.59,2.92,30000,220,0,ignore
4,2.61,2.17,2.72,30000,222,0,ignore
4,3.47,3.01,3.47,30000,224,0,ignore
4,2.91,2.73,3.03,30000,226,0,ignore
4,2.79,2.40,2.79,30000,228,0,ignore
4,2.66,2.66,2.97,30000,230,0,ignore
4,2.71,2.71,3.26,30000,232,0,ignore
4,2.67,2.65,3.02,30000,234,0,ignore
4,2.73,2.73,3.34,30000,236,0,ignore
4,2.48,2.26,2.57,30000,238,0,ignore
4,3.24,3.16,3.24,30000,240,0,ignore
4,2.75,2.45,2.75,30000,242,0,ignore
4,2.67,2.67,3.18,30000,244,0,ignore
4,2.58,2.26,2.58,30000,246,0,ignore
4,2.65,2.65,3.14,30000,248,0,ignore
4,2.63,2.23,2.63,30000,250,0,ignore
4,2.64,2.46,2.64,30000,252,0,ignore
4,2.28,2.19,2.55,30000,254,0,ignore
4,2.66,2.64,2.66,30000,256,0,ignore
4,0.13,0.12,0.13,30000,2,2,binomial
4,0.22,0.22,0.22,30000,4,2,binomial
4,0.38,0.38,0.38,30000,6,2,binomial
4,0.47,0.47,0.50,30000,8,2,binomial
4,0.41,0.41,0.42,30000,10,2,binomial
4,0.44,0.44,0.45,30000,12,2,binomial
4,0.45,0.44,0.45,30000,14,2,binomial
4,0.56,0.56,0.57,30000,16,2,binomial
4,0.52,0.52,0.61,30000,18,2,binomial
4,0.53,0.53,0.64,30000,20,2,binomial
4,0.51,0.51,0.57,30000,22,2,binomial
4,0.53,0.53,0.65,30000,24,2,binomial
4,0.49,0.49,0.58,30000,26,2,binomial
4,0.56,0.53,0.57,30000,28,2,binomial
4,0.53,0.53,0.62,30000,30,2,binomial
4,0.68,0.64,0.68,30000,32,2,binomial
4,0.65,0.61,0.65,30000,34,2,binomial
4,0.70,0.59,0.70,30000,36,2,binomial
4,0.68,0.59,0.68,30000,38,2,binomial
4,0.65,0.61,0.65,30000,40,2,binomial
4,0.60,0.59,0.61,30000,42,2,binomial
4,0.60,0.60,0.65,30000,44,2,binomial
4,0.59,0.59,0.64,30000,46,2,binomial
4,0.62,0.62,0.65,30000,48,2,binomial
4,0.61,0.60,0.61,30000,50,2,binomial
4,0.61,0.60,0.63,30000,52,2,binomial
4,0.60,0.59,0.63,30000,54,2,binomial
4,0.61,0.61,0.62,30000,56,2,binomial
4,0.58,0.58,0.59,30000,58,2,binomial
4,0.60,0.60,0.61,30000,60,2,binomial
4,0.60,0.60,0.61,30000,62,2,binomial
4,0.89,0.81,0.89,30000,64,2,binomial
4,0.78,0.78,0.79,30000,66,2,binomial
4,0.82,0.76,0.84,30000,68,2,binomial
4,0.93,0.76,0.93,30000,70,2,binomial
4,0.93,0.83,0.93,30000,72,2,binomial
4,0.89,0.80,0.89,30000,74,2,binomial
4,0.92,0.83,0.92,30000,76,2,binomial
4,0.93,0.84,0.93,30000,78,2,binomial
4,0.88,0.86,0.91,30000,80,2,binomial
4,0.87,0.84,0.87,30000,82,2,binomial
4,0.88,0.85,0.88,30000,84,2,binomial
4,0.87,0.84,0.87,30000,86,2,binomial
4,0.93,0.88,0.93,30000,88,2,binomial
4,0.89,0.85,0.92,30000,90,2,binomial
4,1.03,0.88,1.03,30000,92,2,binomial
4,0.92,0.86,0.92,30000,94,2,binomial
4,0.96,0.96,0.96,30000,96,2,binomial
4,0.95,0.90,1.01,30000,98,2,binomial
4,1.00,0.94,1.00,30000,100,2,binomial
4,0.94,0.91,0.98,30000,102,2,binomial
4,0.98,0.93,0.98,30000,104,2,binomial
4,0.99,0.93,0.99,30000,106,2,binomial
4,0.97,0.97,1.03,30000,108,2,binomial
4,1.08,0.93,1.08,30000,110,2,binomial
4,0.99,0.95,0.99,30000,112,2,binomial
4,1.22,0.95,1.22,30000,114,2,binomial
4,1.25,1.00,1.25,30000,116,2,binomial
4,0.95,0.95,1.01,30000,118,2,binomial
4,1.11,0.97,1.21,30000,120,2,binomial
4,1.33,1.00,1.33,30000,122,2,binomial
4,1.04,0.99,1.10,30000,124,2,binomial
4,1.14,0.98,1.19,30000,126,2,binomial
4,1.19,1.08,1.19,30000,128,2,binomial
4,0.84,0.84,1.08,30000,130,2,binomial
4,1.15,0.88,1.15,30000,132,2,binomial
4,0.84,0.84,0.98,30000,134,2,binomial
4,0.98,0.98,1.18,30000,136,2,binomial
4,1.02,0.88,1.02,30000,138,2,binomial
4,1.07,0.90,1.07,30000,140,2,binomial
4,1.16,0.87,1.16,30000,142,2,binomial
4,1.25,0.96,1.25,30000,144,2,binomial
4,1.37,1.05,1.37,30000,146,2,binomial
4,1.38,1.21,1.39,30000,148,2,binomial
4,1.56,1.28,1.56,30000,150,2,binomial
4,1.57,1.36,1.57,30000,152,2,binomial
4,1.62,1.36,1.62,30000,154,2,binomial
4,1.63,1.57,1.63,30000,156,2,binomial
4,1.59,1.41,1.61,30000,158,2,binomial
4,1.67,1.57,1.73,30000,160,2,binomial
4,2.22,1.97,2.22,30000,162,2,binomial
4,2.38,2.34,2.59,30000,164,2,binomial
4,2.44,2.19,2.44,30000,166,2,binomial
4,2.59,2.53,2.74,30000,168,2,binomial
4,2.30,2.22,2.37,30000,170,2,binomial
4,2.65,2.38,2.65,30000,172,2,binomial
4,2.50,2.18,2.50,30000,174,2,binomial
4,2.83,2.53,2.83,30000,176,2,binomial
4,2.71,2.43,2.71,30000,178,2,binomial
4,2.81,2.52,2.81,30000,180,2,binomial
4,2.47,2.21,2.61,30000,182,2,binomial
4,3.05,2.79,3.28,30000,184,2,binomial
4,2.74,2.35,2.92,30000,186,2,binomial
4,2.93,2.83,3.02,30000,188,2,binomial
4,2.60,2.36,2.63,30000,190,2,binomial
4,3.23,3.01,3.37,30000,192,2,binomial
4,2.95,2.65,2.95,30000,194,2,binomial
4,3.46,2.85,3.46,30000,196,2,binomial
4,2.95,2.67,2.95,30000,198,2,binomial
4,3.51,2.55,3.51,30000,200,2,binomial
4,2.88,2.48,2.88,30000,202,2,binomial
4,3.28,2.30,3.28,30000,204,2,binomial
4,3.14,2.42,3.14,30000,206,2,binomial
4,3.50,3.31,3.51,30000,208,2,binomial
4,2.86,2.44,2.86,30000,210,2,binomial
4,3.04,2.70,3.07,30000,212,2,binomial
4,2.65,2.26,2.71,30000,214,2,binomial
4,3.34,2.66,3.34,30000,216,2,binomial
4,3.05,2.51,3.05,30000,218,2,binomial
4,3.26,2.57,3.26,30000,220,2,binomial
4,2.55,2.46,2.90,30000,222,2,binomial
4,3.31,2.66,3.31,30000,224,2,binomial
4,2.60,2.60,3.22,30000,226,2,binomial
4,2.85,2.38,2.85,30000,228,2,binomial
4,2.48,2.48,3.23,30000,230,2,binomial
4,3.02,3.02,3.56,30000,232,2,binomial
4,2.64,2.64,3.12,30000,234,2,binomial
4,2.68,2.46,2.68,30000,236,2,binomial
4,2.67,2.67,2.91,30000,238,2,binomial
4,3.08,2.84,3.08,30000,240,2,binomial
4,2.78,2.75,3.02,30000,242,2,binomial
4,2.93,2.93,3.26,30000,244,2,binomial
4,2.48,2.48,3.16,30000,246,2,binomial
4,2.68,2.52,2.97,30000,248,2,binomial
4,2.44,2.38,2.44,30000,250,2,binomial
4,2.43,2.43,2.76,30000,252,2,binomial
4,2.41,2.26,2.45,30000,254,2,binomial
4,2.62,2.62,2.64,30000,256,2,binomial
4,0.14,0.13,0.14,30000,2,1,basic_linear
4,0.18,0.18,0.18,30000,4,1,basic_linear
4,0.33,0.32,0.33,30000,6,1,basic_linear
4,0.35,0.35,0.37,30000,8,1,basic_linear
4,0.29,0.29,0.29,30000,10,1,basic_linear
4,0.27,0.27,0.28,30000,12,1,basic_linear
4,0.46,0.46,0.47,30000,14,1,basic_linear
4,0.73,0.73,0.75,30000,16,1,basic_linear
4,0.75,0.75,0.77,30000,18,1,basic_linear
4,0.66,0.65,0.66,30000,20,1,basic_linear
4,0.75,0.75,0.78,30000,22,1,basic_linear
4,0.70,0.70,0.74,30000,24,1,basic_linear
4,0.85,0.84,0.89,30000,26,1,basic_linear
4,0.89,0.89,0.93,30000,28,1,basic_linear
4,1.10,1.07,1.10,30000,30,1,basic_linear
4,1.36,1.36,1.37,30000,32,1,basic_linear
4,1.38,1.37,1.39,30000,34,1,basic_linear
4,1.23,1.23,1.23,30000,36,1,basic_linear
4,1.31,1.27,1.31,30000,38,1,basic_linear
4,1.28,1.28,1.29,30000,40,1,basic_linear
4,1.43,1.32,1.43,30000,42,1,basic_linear
4,1.29,1.21,1.29,30000,44,1,basic_linear
4,1.37,1.30,1.37,30000,46,1,basic_linear
4,1.35,1.27,1.35,30000,48,1,basic_linear
4,1.54,1.49,1.54,30000,50,1,basic_linear
4,1.55,1.51,1.56,30000,52,1,basic_linear
4,1.75,1.73,1.75,30000,54,1,basic_linear
4,1.87,1.84,1.87,30000,56,1,basic_linear
4,1.97,1.85,1.97,30000,58,1,basic_linear
4,2.25,2.23,2.25,30000,60,1,basic_linear
4,2.52,2.52,2.52,30000,62,1,basic_linear
4,2.61,2.61,2.62,30000,64,1,basic_linear
4,3.02,2.97,3.02,30000,66,1,basic_linear
4,3.07,3.07,3.13,30000,68,1,basic_linear
4,3.50,3.50,3.54,30000,70,1,basic_linear
4,3.52,3.52,3.52,30000,72,1,basic_linear
4,3.72,3.72,3.88,30000,74,1,basic_linear
4,3.92,3.86,3.92,30000,76,1,basic_linear
4,4.27,4.10,4.27,30000,78,1,basic_linear
4,4.18,4.18,4.20,30000,80,1,basic_linear
4,4.53,4.36,4.53,30000,82,1,basic_linear
4,4.61,4.51,4.61,30000,84,1,basic_linear
4,5.04,4.88,5.04,30000,86,1,basic_linear
4,4.90,4.89,4.90,30000,88,1,basic_linear
4,4.81,4.81,5.06,30000,90,1,basic_linear
4,5.41,5.41,5.46,30000,92,1,basic_linear
4,5.66,5.36,5.66,30000,94,1,basic_linear
4,5.46,5.46,5.52,30000,96,1,basic_linear
4,5.80,5.61,5.81,30000,98,1,basic_linear
4,5.92,5.92,5.95,30000,100,1,basic_linear
4,6.34,6.26,6.34,30000,102,1,basic_linear
4,6.23,6.23,6.34,30000,104,1,basic_linear
4,6.75,6.75,7.12,30000,106,1,basic_linear
4,6.96,6.72,6.96,30000,108,1,basic_linear
4,7.35,7.18,7.35,30000,110,1,basic_linear
4,7.25,7.21,8.69,30000,112,1,basic_linear
4,7.86,7.35,7.86,30000,114,1,basic_linear
4,7.85,7.75,7.91,30000,116,1,basic_linear
4,8.11,8.05,8.11,30000,118,1,basic_linear
4,8.08,8.08,8.21,30000,120,1,basic_linear
4,7.50,7.50,8.07,30000,122,1,basic_linear
4,8.01,8.01,8.20,30000,124,1,basic_linear
4,8.09,8.09,8.18,30000,126,1,basic_linear
4,8.07,8.05,8.11,30000,128,1,basic_linear
4,7.61,7.59,7.68,30000,130,1,basic_linear
4,7.40,7.40,7.60,30000,132,1,basic_linear
4,7.32,7.32,7.47,30000,134,1,basic_linear
4,7.24,7.24,7.41,30000,136,1,basic_linear
4,7.04,7.04,7.14,30000,138,1,basic_linear
4,6.99,6.99,7.04,30000,140,1,basic_linear
4,6.80,6.80,6.91,30000,142,1,basic_linear
4,6.85,6.85,6.97,30000,144,1,basic_linear
4,6.65,6.65,6.70,30000,146,1,basic_linear
4,6.18,6.18,6.26,30000,148,1,basic_linear
4,5.89,5.89,5.98,30000,150,1,basic_linear
4,5.60,5.59,5.61,30000,152,1,basic_linear
4,5.29,5.29,5.37,30000,154,1,basic_linear
4,4.98,4.98,5.06,30000,156,1,basic_linear
4,4.90,4.90,4.93,30000,158,1,basic_linear
4,4.58,4.57,4.69,30000,160,1,basic_linear
4,4.22,4.22,4.27,30000,162,1,basic_linear
4,3.61,3.60,3.67,30000,164,1,basic_linear
4,3.36,3.31,3.36,30000,166,1,basic_linear
4,3.20,3.20,3.25,30000,168,1,basic_linear
4,3.24,3.24,3.25,30000,170,1,basic_linear
4,3.10,3.09,3.12,30000,172,1,basic_linear
4,3.07,3.04,3.07,30000,174,1,basic_linear
4,2.92,2.85,2.92,30000,176,1,basic_linear
4,2.85,2.84,2.86,30000,178,1,basic_linear
4,2.57,2.55,2.57,30000,180,1,basic_linear
4,2.55,2.54,2.63,30000,182,1,basic_linear
4,2.34,2.34,2.35,30000,184,1,basic_linear
4,2.37,2.37,2.38,30000,186,1,basic_linear
4,2.22,2.22,2.23,30000,188,1,basic_linear
4,2.29,2.29,2.31,30000,190,1,basic_linear
4,2.16,2.16,2.22,30000,192,1,basic_linear
4,2.23,2.23,2.29,30000,194,1,basic_linear
4,2.13,2.13,2.19,30000,196,1,basic_linear
4,2.21,2.21,2.26,30000,198,1,basic_linear
4,2.09,2.09,2.15,30000,200,1,basic_linear
4,2.16,2.16,2.24,30000,202,1,basic_linear
4,2.06,2.06,2.14,30000,204,1,basic_linear
4,2.17,2.17,2.24,30000,206,1,basic_linear
4,2.08,2.08,2.18,30000,208,1,basic_linear
4,2.18,2.15,2.21,30000,210,1,basic_linear
4,2.00,2.00,2.10,30000,212,1,basic_linear
4,2.02,2.02,2.11,30000,214,1,basic_linear
4,1.89,1.89,1.98,30000,216,1,basic_linear
4,1.94,1.94,2.00,30000,218,1,basic_linear
4,1.84,1.84,1.88,30000,220,1,basic_linear
4,1.85,1.85,1.89,30000,222,1,basic_linear
4,1.76,1.76,1.82,30000,224,1,basic_linear
4,1.80,1.80,1.87,30000,226,1,basic_linear
4,1.76,1.76,1.80,30000,228,1,basic_linear
4,1.89,1.89,1.96,30000,230,1,basic_linear
4,1.89,1.89,2.00,30000,232,1,basic_linear
4,1.96,1.96,2.07,30000,234,1,basic_linear
4,1.93,1.93,2.03,30000,236,1,basic_linear
4,2.04,2.04,2.18,30000,238,1,basic_linear
4,1.98,1.98,2.17,30000,240,1,basic_linear
4,1.96,1.96,2.09,30000,242,1,basic_linear
4,1.83,1.83,1.98,30000,244,1,basic_linear
4,1.91,1.91,2.07,30000,246,1,basic_linear
4,1.84,1.84,2.04,30000,248,1,basic_linear
4,1.86,1.86,2.03,30000,250,1,basic_linear
4,1.78,1.78,1.94,30000,252,1,basic_linear
4,1.80,1.80,2.07,30000,254,1,basic_linear
4,1.94,1.94,2.14,30000,256,1,basic_linear
4,0.31,0.31,0.32,30000,2,3,linear_sync
4,0.64,0.64,0.65,30000,4,3,linear_sync
4,1.55,1.55,1.55,30000,6,3,linear_sync
4,2.34,2.29,2.63,30000,8,3,linear_sync
4,3.69,3.69,4.25,30000,10,3,linear_sync
4,4.43,4.43,4.89,30000,12,3,linear_sync
4,5.13,5.13,5.81,30000,14,3,linear_sync
4,6.23,6.03,6.23,30000,16,3,linear_sync
4,7.33,7.13,7.33,30000,18,3,linear_sync
4,8.62,8.25,8.62,30000,20,3,linear_sync
4,9.53,8.87,9.53,30000,22,3,linear_sync
4,10.23,9.65,10.23,30000,24,3,linear_sync
4,11.03,10.81,11.03,30000,26,3,linear_sync
4,12.01,11.07,12.01,30000,28,3,linear_sync
4,12.62,11.97,12.62,30000,30,3,linear_sync
4,13.41,12.90,13.41,30000,32,3,linear_sync
4,14.32,13.92,14.32,30000,34,3,linear_sync
4,15.50,14.94,15.62,30000,36,3,linear_sync
4,16.79,16.06,16.85,30000,38,3,linear_sync
4,17.48,17.41,17.67,30000,40,3,linear_sync
4,18.76,18.54,18.76,30000,42,3,linear_sync
4,19.33,19.29,20.81,30000,44,3,linear_sync
4,20.67,20.67,22.05,30000,46,3,linear_sync
4,22.00,21.30,22.00,30000,48,3,linear_sync
4,22.47,22.47,23.64,30000,50,3,linear_sync
4,23.90,23.60,24.65,30000,52,3,linear_sync
4,25.79,24.84,25.79,30000,54,3,linear_sync
4,26.84,26.42,26.95,30000,56,3,linear_sync
4,26.23,26.23,27.97,30000,58,3,linear_sync
4,28.87,28.18,29.19,30000,60,3,linear_sync
4,29.29,28.81,29.55,30000,62,3,linear_sync
4,30.49,29.33,30.49,30000,64,3,linear_sync
4,30.20,30.20,31.56,30000,66,3,linear_sync
4,31.98,31.96,32.85,30000,68,3,linear_sync
4,33.68,33.08,33.91,30000,70,3,linear_sync
4,35.67,34.04,35.67,30000,72,3,linear_sync
4,35.99,35.42,36.17,30000,74,3,linear_sync
4,37.87,36.71,37.87,30000,76,3,linear_sync
4,39.38,38.62,39.38,30000,78,3,linear_sync
4,40.50,39.56,40.50,30000,80,3,linear_sync
4,41.73,40.71,41.73,30000,82,3,linear_sync
4,42.86,42.06,42.86,30000,84,3,linear_sync
4,44.68,43.35,44.68,30000,86,3,linear_sync
4,45.93,44.85,45.93,30000,88,3,linear_sync
4,47.49,46.27,47.49,30000,90,3,linear_sync
4,50.90,48.91,50.90,30000,92,3,linear_sync
4,51.50,49.90,51.50,30000,94,3,linear_sync
4,52.63,51.01,52.63,30000,96,3,linear_sync
4,54.16,51.82,54.16,30000,98,3,linear_sync
4,54.89,53.34,54.89,30000,100,3,linear_sync
4,55.90,54.29,55.90,30000,102,3,linear_sync
4,56.95,55.75,56.95,30000,104,3,linear_sync
4,59.09,57.88,59.09,30000,106,3,linear_sync
4,61.57,59.28,61.57,30000,108,3,linear_sync
4,63.38,60.81,63.38,30000,110,3,linear_sync
4,63.12,61.28,63.12,30000,112,3,linear_sync
4,64.06,62.78,64.06,30000,114,3,linear_sync
4,67.12,65.24,67.12,30000,116,3,linear_sync
4,68.89,66.26,68.89,30000,118,3,linear_sync
4,70.65,67.53,70.65,30000,120,3,linear_sync
4,71.82,69.36,71.82,30000,122,3,linear_sync
4,75.82,71.34,75.82,30000,124,3,linear_sync
4,75.22,72.11,75.22,30000,126,3,linear_sync
4,75.64,72.98,75.64,30000,128,3,linear_sync
4,75.56,73.51,75.56,30000,130,3,linear_sync
4,79.20,76.12,79.20,30000,132,3,linear_sync
4,85.56,78.69,85.56,30000,134,3,linear_sync
4,83.38,80.59,83.38,30000,136,3,linear_sync
4,84.65,82.92,84.65,30000,138,3,linear_sync
4,87.04,84.66,87.04,30000,140,3,linear_sync
4,88.31,87.26,88.31,30000,142,3,linear_sync
4,89.88,88.51,92.80,30000,144,3,linear_sync
4,92.70,90.55,92.70,30000,146,3,linear_sync
4,94.12,92.74,94.12,30000,148,3,linear_sync
4,97.04,95.34,97.04,30000,150,3,linear_sync
4,99.81,97.53,99.81,30000,152,3,linear_sync
4,111.09,99.66,111.09,30000,154,3,linear_sync
4,103.37,102.09,103.37,30000,156,3,linear_sync
4,109.01,105.24,109.01,30000,158,3,linear_sync
4,109.14,106.58,109.14,30000,160,3,linear_sync
4,112.90,109.36,112.90,30000,162,3,linear_sync
4,114.29,111.81,114.29,30000,164,3,linear_sync
4,118.56,115.99,118.56,30000,166,3,linear_sync
4,121.23,118.67,123.08,30000,168,3,linear_sync
4,124.83,120.97,124.83,30000,170,3,linear_sync
4,127.80,126.47,131.85,30000,172,3,linear_sync
4,131.25,127.86,131.25,30000,174,3,linear_sync
4,140.34,130.66,140.34,30000,176,3,linear_sync
4,137.45,134.40,138.54,30000,178,3,linear_sync
4,141.22,137.66,141.22,30000,180,3,linear_sync
4,151.98,140.53,151.98,30000,182,3,linear_sync
4,147.09,145.26,147.71,30000,184,3,linear_sync
4,149.64,146.66,149.64,30000,186,3,linear_sync
4,163.32,151.13,163.32,30000,188,3,linear_sync
4,157.66,156.95,164.20,30000,190,3,linear_sync
4,160.85,157.07,162.13,30000,192,3,linear_sync
4,163.76,160.66,163.76,30000,194,3,linear_sync
4,174.38,164.76,174.38,30000,196,3,linear_sync
4,171.56,170.05,175.24,30000,198,3,linear_sync
4,174.26,172.20,180.53,30000,200,3,linear_sync
4,178.65,176.12,178.65,30000,202,3,linear_sync
4,183.70,179.70,183.70,30000,204,3,linear_sync
4,194.52,184.06,194.52,30000,206,3,linear_sync
4,190.31,187.35,194.38,30000,208,3,linear_sync
4,194.51,192.73,198.57,30000,210,3,linear_sync
4,198.16,195.82,201.34,30000,212,3,linear_sync
4,202.21,199.94,206.56,30000,214,3,linear_sync
4,207.29,202.76,207.29,30000,216,3,linear_sync
4,209.91,206.51,209.91,30000,218,3,linear_sync
4,221.41,210.69,221.41,30000,220,3,linear_sync
4,226.07,214.24,226.07,30000,222,3,linear_sync
4,227.35,217.89,227.35,30000,224,3,linear_sync
4,230.55,221.59,230.55,30000,226,3,linear_sync
4,235.06,225.34,235.06,30000,228,3,linear_sync
4,237.61,228.61,237.61,30000,230,3,linear_sync
4,247.46,232.79,247.46,30000,232,3,linear_sync
4,246.63,237.02,246.63,30000,234,3,linear_sync
4,251.49,241.36,251.49,30000,236,3,linear_sync
4,258.99,244.99,258.99,30000,238,3,linear_sync
4,261.26,249.09,261.26,30000,240,3,linear_sync
4,262.44,253.50,262.44,30000,242,3,linear_sync
4,260.94,257.98,262.04,30000,244,3,linear_sync
4,264.69,261.11,267.66,30000,246,3,linear_sync
4,269.68,265.83,273.11,30000,248,3,linear_sync
4,272.05,270.17,275.91,30000,250,3,linear_sync
4,276.93,273.41,278.15,30000,252,3,linear_sync
4,278.16,276.56,281.61,30000,254,3,linear_sync
4,292.76,277.22,292.76,30000,256,3,linear_sync
"""

# Use io.StringIO to read the data
df = pd.read_csv(io.StringIO(data))

# Calculate log2 values
df['log2_avg_latency'] = np.log2(df['Avg Latency(us)'])
df['log2_size'] = np.log2(df['Size'])

# Separate data by algorithm
algorithms = df['ALGO_NAME'].unique()
colors = ['b', 'orange', 'g', 'r']
markers = ['o', '^', 's', 'd']
lines = ['-', '--', '-.', ':']

plt.figure(figsize=(12, 8))

for i, algo in enumerate(algorithms):
    algo_data = df[df['ALGO_NAME'] == algo]
    
    # Prepare data for regression
    X = np.column_stack((algo_data['NP_total'], algo_data['log2_size'], algo_data['log2_size']**2))
    y = algo_data['log2_avg_latency']
    
    # Fit the model
    model = LinearRegression()
    model.fit(X, y)
    
    # Predict
    y_pred = model.predict(X)
    
    # Plot actual vs predicted
    plt.scatter(algo_data['NP_total'], algo_data['log2_avg_latency'], color=colors[i], marker=markers[i], label=f'{algo} Actual')
    plt.plot(algo_data['NP_total'], y_pred, color=colors[i], linestyle=lines[i], label=f'{algo} Predicted')

plt.xlabel('NP_total')
plt.ylabel('log2(Avg Latency)')
plt.title('Gather Fixed Latency: Actual vs Predicted')
plt.legend()
plt.show()
